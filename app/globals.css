@tailwind base;
@tailwind components;
@tailwind utilities;

/* Include Khmer font from Google Fonts */
@import url("https://fonts.googleapis.com/css2?family=Noto+Sans+Khmer:wght@400;500;600;700&display=swap");

body {
  font-family: "Noto Sans Khmer", Arial, Helvetica, sans-serif;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@layer base {
  :root {
    --radius: 0.3rem;
    --background: oklch(1 0 0);
    --foreground: oklch(0.141 0.005 285.823);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.141 0.005 285.823);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.141 0.005 285.823);
    --primary: oklch(0.21 0.006 285.885);
    --primary-foreground: oklch(0.985 0 0);
    --secondary: oklch(0.967 0.001 286.375);
    --secondary-foreground: oklch(0.21 0.006 285.885);
    --muted: oklch(0.967 0.001 286.375);
    --muted-foreground: oklch(0.552 0.016 285.938);
    --accent: oklch(0.967 0.001 286.375);
    --accent-foreground: oklch(0.21 0.006 285.885);
    --destructive: oklch(0.577 0.245 27.325);
    --border: oklch(0.92 0.004 286.32);
    --input: oklch(0.92 0.004 286.32);
    --ring: oklch(0.705 0.015 286.067);
    --chart-1: oklch(0.646 0.222 41.116);
    --chart-2: oklch(0.6 0.118 184.704);
    --chart-3: oklch(0.398 0.07 227.392);
    --chart-4: oklch(0.828 0.189 84.429);
    --chart-5: oklch(0.769 0.188 70.08);
    --sidebar: oklch(0.985 0 0);
    --sidebar-foreground: oklch(0.141 0.005 285.823);
    --sidebar-primary: oklch(0.21 0.006 285.885);
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: oklch(0.967 0.001 286.375);
    --sidebar-accent-foreground: oklch(0.21 0.006 285.885);
    --sidebar-border: oklch(0.92 0.004 286.32);
    --sidebar-ring: oklch(0.705 0.015 286.067);

    /* Table specific colors */
    --table-header-bg: oklch(0.4 0.005 285.823);
    --table-header-text: oklch(0.985 0 0);
    --table-border: oklch(0.8 0.004 286.32);
    --table-border-dark: oklch(0.7 0.004 286.32);
    --table-row-even: oklch(0.98 0.001 286.375);
    --table-row-odd: oklch(1 0 0);
    --table-hover: oklch(0.93 0.004 286.32);
    --table-shadow: oklch(0 0 0);

    /* Card border color */
    --card-border: oklch(0.8 0.004 286.32);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
  }

  /* Enhanced card border styling */
  .card {
    border: 1.5px solid oklch(var(--card-border));
    transition: border-color 0.15s ease-in-out;
  }

  /* Card hover effect */
  .card:hover {
    border-color: oklch(0.7 0.004 286.32);
  }
}

@layer components {
  /* Enhanced table styling with proper border collapse */
  table {
    @apply w-full table-auto text-sm;
    border-collapse: collapse;
    border: 1px solid #4b5563; /* gray-600 */
    box-shadow: 0 4px 12px oklch(var(--table-shadow) / 0.08),
      0 2px 4px oklch(var(--table-shadow) / 0.08);
  }

  /* Table header */
  thead {
    @apply sticky top-0 z-10;
  }

  /* Table header cells with gray-600 background and white text */
  th {
    @apply px-4 py-3 text-left font-semibold text-sm;
    background-color: #4b5563; /* gray-600 */
    color: #ffffff !important;
    white-space: nowrap;
    border: 1px solid #4b5563; /* gray-600 */
  }

  /* Table row styling */
  tr {
    @apply transition-all duration-200 ease-in-out;
  }

  /* Table cells - uniform border styling */
  td {
    @apply px-4 py-3;
    border: 1px solid #4b5563; /* gray-600 */
    color: oklch(var(--foreground));
  }

  /* Fix for first column border */
  td:first-child,
  th:first-child {
    border-left: 1px solid #4b5563; /* gray-600 */
  }

  /* Fix for last column border */
  td:last-child,
  th:last-child {
    border-right: 1px solid #4b5563; /* gray-600 */
  }

  /* Fix for first row border */
  thead tr:first-child th {
    border-top: 1px solid #4b5563; /* gray-600 */
  }

  /* Fix for last row border */
  tbody tr:last-child td {
    border-bottom: 1px solid #4b5563; /* gray-600 */
  }

  /* Alternating row colors */
  tbody tr:nth-child(even) {
    background-color: oklch(var(--table-row-even));
  }

  tbody tr:nth-child(odd) {
    background-color: oklch(var(--table-row-odd));
  }

  /* Hover effect on rows */
  tbody tr:hover {
    background-color: oklch(var(--table-hover)) !important;
    transition: background-color 0.15s ease-in-out;
  }

  /* Pagination controls */
  .pagination {
    @apply flex items-center justify-between mt-4 px-4 py-3 bg-card border rounded-md;
    border-color: #4b5563; /* gray-600 */
    box-shadow: 0 1px 3px oklch(var(--table-shadow) / 0.08);
  }

  /* Responsive table container without border */
  .table-container {
    @apply w-full overflow-x-auto;
    box-shadow: 0 2px 8px oklch(var(--table-shadow) / 0.08);
  }

  /* Custom scrollbar for the table container */
  .table-container::-webkit-scrollbar {
    height: 8px;
  }

  .table-container::-webkit-scrollbar-track {
    background-color: oklch(var(--secondary));
  }

  .table-container::-webkit-scrollbar-thumb {
    background-color: #4b5563; /* gray-600 */
    border-radius: 4px;
  }

  .table-container::-webkit-scrollbar-thumb:hover {
    background-color: #374151; /* gray-700 for hover */
  }
}

.cell-truncate {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100px;
}

@media (min-width: 768px) {
  .cell-truncate {
    max-width: 120px;
  }
}

@media (min-width: 1024px) {
  .cell-truncate {
    max-width: 150px;
  }
}
@media (min-width: 1280px) {
  .cell-truncate {
    max-width: 200px;
  }
}
@media (min-width: 1536px) {
  .cell-truncate {
    max-width: 250px;
  }
}
@media (min-width: 1920px) {
  .cell-truncate {
    max-width: 300px;
  }
}
